(function(){"use strict";function e(e){return document.getElementById(e)}function n(){var t,n=e("hamburgerBtn");if(!n||typeof window.toggleMenu!="function")return;n.addEventListener("click",function(e){e.preventDefault(),window.toggleMenu()}),t=e("mobileMenu"),t&&t.addEventListener("click",function(e){var t=e.target&&(e.target.closest?e.target.closest("a"):null);if(t)try{window.toggleMenu()}catch{}})}function t(t,n){var o=e(t),s=e(n);if(!o||!s)return;function a(){s.classList.add("is-open"),s.style.display="block",o.setAttribute("aria-expanded","true")}function i(){s.classList.remove("is-open"),s.style.display="none",o.setAttribute("aria-expanded","false")}function r(e){e.preventDefault(),e.stopPropagation(),s.classList.contains("is-open")?i():a()}o.addEventListener("click",r),document.addEventListener("click",function(e){if(!s.classList.contains("is-open"))return;if(e.target===o||o.contains(e.target)||s.contains(e.target))return;i()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&i()})}function s(){var e="siteLang";document.querySelectorAll(".lang-item").forEach(function(t){t.addEventListener("click",function(){var n,s=t.getAttribute("data-lang");if(s)try{localStorage.setItem(e,s)}catch{}n=t.getAttribute("data-href")||t.getAttribute("href"),n&&(window.location.href=n)})})}function o(){var t,n,s,i,o="siteLang",a=(document.documentElement.getAttribute("lang")||"").toLowerCase()||"en";function r(){try{var t,e=localStorage.getItem(o);if(e==="en"||e==="fr")return e}catch{}return t=navigator.languages&&navigator.languages[0]||navigator.language||"en",String(t).toLowerCase().startsWith("fr")?"fr":"en"}function c(t){for(var n,o,i=[e("langMenu"),e("langMenuMobile"),document],s=0;s<i.length;s++){if(n=i[s],!n)continue;if(o=n.querySelector&&n.querySelector('.lang-item[data-lang="'+t+'"]'),o)return o}return null}if(n=r(),a===n)return;try{i=!!localStorage.getItem(o)}catch{}i||(t=c(n),t&&(s=t.getAttribute("data-href")||t.getAttribute("href"),s&&(window.location.href=s)))}document.addEventListener("DOMContentLoaded",function(){n(),t("langToggle","langMenu"),t("langToggleMobile","langMenuMobile"),s();try{o()}catch{}})})()