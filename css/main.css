body {
  color: #fafafa;
  background-color: #212121;
  font-family: -apple-system,BlinkMacSystemFont,segoe ui,Roboto,Oxygen-Sans,Ubuntu,Cantarell,helvetica neue,Helvetica,游ゴシック,pingfang sc,STXihei,华文细黑,microsoft yahei,微软雅黑,SimSun,宋体,Heiti,黑体,sans-serif;
  font-size: 1.3em;
  font-weight: 400;
  line-height: 1.4em;
  
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* Prevent layout shift when vertical scrollbar appears/disappears */
/* Always reserve vertical scrollbar space to prevent header shift */
html { scrollbar-gutter: stable; overflow-y: scroll; }

.w3-container {
  margin: 1rem auto;
  max-width: 80rem;
  width: 100%;
}

.footer {
    width: 100%;
    text-align: center;
    font-size: 1rem;
    line-height: 2rem;
    margin-bottom: 1rem;
}

main {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;   /* ✅ centre verticalement */
  align-items: center;       /* ✅ centre horizontalement */
}

/* ===== About page ===== */
body.about main{
  justify-content: flex-start; /* read from top */
}
.about-page{ max-width: 1000px; width:100%; padding-top: 2rem; }
.about-hero{ margin-bottom: 1.25rem; }
.about-avatar{
  width: 88px; height:88px; border-radius:50%; object-fit:cover;
  border:1px solid #2b2b2b; background:#1b1b1b; margin-bottom:.5rem;
}
.about-title{ font-size: 2rem; margin:.25rem 0 .25rem; }
.about-subtitle{ margin-top: 0; }
.about-section{ margin: 1rem 0; }
.about-h2{
  margin: .25rem 0 0.75rem;
  padding-left:.75rem;
  border-left: 3px solid #2196f3;
}
.about-h3{ margin-top:0; margin-bottom:.5rem; }
.about-lead{ font-size:1.05em; line-height:1.6; }

.about-grid{
  display:grid; gap: 1rem;
  grid-template-columns: 1fr; 
}
@media (min-width: 768px){
  .about-grid{ grid-template-columns: 1fr 1fr; }
}

.about-card{
  background:#1b1b1b;
  border:1px solid #2b2b2b;
  border-radius: 1rem;
  padding: 1rem 1rem;
  box-shadow: 0 4px 14px rgba(0,0,0,.25);
  transition: transform .12s ease, border-color .2s ease, box-shadow .2s ease;
}
/* hover disabled for about cards */
.about-content ul{ margin-top:.5rem; }
.about-content li{ margin:.25rem 0; }

.social-icons a i {
  font-size: 2rem;
  color: #fafafa;
  transition: color 0.4s ease;
}

.social-icons a:hover i {
  color: #2196f3;
}

/* Mise côte à côte + wrap sur mobile */
.cta-row {
  display: flex;
  gap: 0.75rem;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
}

/* Styles unifiés pour les deux boutons */
.calendly-btn,
.cv-link {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: 8px 14px;
  border: 1px solid #fafafa;
  border-radius: 9999px; /* pastille */
  text-decoration: none;
  color: #fafafa;
  opacity: .95;
  transition: transform .15s ease, opacity .15s ease, background-color .2s ease, border-color .2s ease;
}

.calendly-btn:hover,
.cv-link:hover {
  opacity: 1;
  transform: translateY(-1px);
  border-color: #2196f3;
  background-color: #2196f3;
  color: #fff;
}

/* Barre compactée */
nav.w3-bar{ padding:.5rem 0; }

/* Fixed site header */
.site-header{ position: fixed; top:0; left:0; right:0; z-index: 6000; background:#2c2c2c; border-bottom:1px solid #3a3a3a; }
.site-header .w3-container{ margin: 0 auto; }
/* Offset main content to stay clear of fixed header */
main{ padding-top: 72px; }

/* Bouton hamburger: même fond, sans bordure, icône claire */
#hamburgerBtn{
  width:44px; height:44px; padding:0;
  display:flex; align-items:center; justify-content:center;
  border:none;
  background:transparent;
  color:#fafafa;
  transition: transform .15s ease, opacity .15s ease;
}
#hamburgerBtn i{ color:inherit; }
#hamburgerBtn:hover{ opacity:1; transform: translateY(-1px); }

/* Menu mobile: liens alignés à gauche + cibles confortables */
#mobileMenu .w3-button{
  text-align:left;
  padding:12px 14px;
}
/* Remove extra top margin so the dropdown starts right under the navbar */
.mobile-menu.w3-container{ margin-top: 0; }

/* Mobile menu theming and animation */
.mobile-menu{
  overflow: hidden;
  height: 0;
  opacity: 0;
  transform: translateY(-6px);
  transition: height .25s ease, opacity .2s ease, transform .25s ease;
}
.mobile-menu.is-open{
  opacity: 1;
  transform: translateY(0);
}
.mobile-menu .w3-bar-block{
  border:1px solid #2b2b2b;
  background:#212121;
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
}
.mobile-menu .w3-button{ color:#fafafa; }
.mobile-menu .w3-button + .w3-button{ border-top:1px solid #2b2b2b; }
.mobile-menu .w3-button:hover{ background:#2196f3; color:#fff; }

/* Contact page links */
.contact-info .contact-link{
  color: #fafafa;
  text-decoration: none;
  border-bottom: 1px dashed transparent;
}
.contact-info .contact-link:hover{ border-bottom-color: currentColor; }

/* Light theme: home buttons and contact links visible */
[data-theme="light"] .calendly-btn,
[data-theme="light"] .cv-link{
  border-color:#111; color:#111; background: transparent;
}
[data-theme="light"] .contact-info .contact-link{ color:#111; }

/* Theme toggle button */
.theme-toggle{
  width:36px; height:36px; display:inline-flex; align-items:center; justify-content:center;
  border:1px solid #2b2b2b; border-radius:8px; background:#1b1b1b; color:#fafafa; cursor:pointer;
}
.theme-toggle:hover{ background:#2a2a2a; border-color:#3a3a3a; }
/* Ensure tight, centered icon */
.theme-toggle i{ font-size:18px; line-height:1; display:block; }
/* When used as a .w3-bar-item on mobile, remove extra padding */
.w3-bar .theme-toggle{ padding:0 !important; margin:0; display:flex; align-items:center; justify-content:center; }

/* Mobile fine-tuning: square, centered buttons in the navbar */
@media (max-width:640px){
  #hamburgerBtn{ width:40px; height:40px; }
  .w3-bar .theme-toggle{ width:40px; height:40px; }
  #hamburgerBtn i{ font-size:18px; line-height:1; display:block; }
}

/* Simple dark scrollbars */
:root{
  --scrollbar-bg: #1b1b1b;
  --scrollbar-thumb: #3a3a3a;
  --scrollbar-thumb-hover: #4a4a4a;
}
html{ scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-bg); }
/* WebKit */
::-webkit-scrollbar{ width:28px; height:18px; }
::-webkit-scrollbar-track{ background: var(--scrollbar-bg); }
::-webkit-scrollbar-thumb{ background-color: var(--scrollbar-thumb); border-radius: 8px; border:2px solid var(--scrollbar-bg); }
::-webkit-scrollbar-thumb:hover{ background-color: var(--scrollbar-thumb-hover); }

/* Back to top button */
.back-to-top{
  position: fixed; right: 40px; bottom: 40px; z-index: 1200;
  width: 36px; height: 36px;
  display: inline-flex; align-items: center; justify-content: center;
  border: 1px solid #2b2b2b; border-radius: 999px;
  background: #1b1b1b; color: #fafafa;
  box-shadow: 0 4px 12px rgba(0,0,0,.2);
  cursor: pointer;
  opacity: 0; visibility: hidden; transform: translateY(8px);
  transition: opacity .2s ease, transform .2s ease, visibility .2s linear, background-color .2s ease, border-color .2s ease;
}
.back-to-top:hover{ background:#2a2a2a; border-color:#3a3a3a; }
.back-to-top i{ font-size: 14px; line-height: 1; }
.back-to-top.is-visible{ opacity: 1; visibility: visible; transform: translateY(0); }

/* Smooth theme transitions (respect reduced motion) */
@media (prefers-reduced-motion: no-preference){
  html, body, .site-header, .work-card, .about-card, .filters-panel, .role-button, .role-menu, .work-hero, .back-to-top {
    transition: background-color .5s ease, color .5s ease, border-color .5s ease;
  }
}

/* Light theme overrides */
[data-theme="light"] body{ background-color:#f6f7fb; color:#111; }
[data-theme="light"] .site-header{ background:#ffffff; border-bottom:1px solid #e5e7eb; }
[data-theme="light"] nav.w3-bar a{ color:#111; }
[data-theme="light"] .mobile-menu .w3-button{ color:#111; }
[data-theme="light"] #hamburgerBtn{ color:#111; }
[data-theme="light"] .w3-button{ color:#111; }
[data-theme="light"] .w3-text-light-grey{ color:#666 !important; }
[data-theme="light"] .tag{ color:#111; }
[data-theme="light"] .social-icons a i{ color:#111; }
[data-theme="light"] .work-card,
[data-theme="light"] .about-card,
[data-theme="light"] .filters-panel,
[data-theme="light"] .mobile-menu .w3-bar-block,
[data-theme="light"] .work-hero{ background:#ffffff; border-color:#e5e7eb; color:#111; }
[data-theme="light"] .mobile-menu .w3-bar-block{ background:#ffffff; }
[data-theme="light"] .theme-toggle{ background:#ffffff; border-color:#e5e7eb; color:#111; }
[data-theme="light"] .back-to-top{ background:#ffffff; border-color:#e5e7eb; color:#111; }
[data-theme="light"] .btn-reset{ border-color:#111; color:#111; }

/* Lisibilité & respiration en petit écran */
@media (max-width:480px){
  .w3-container{ padding-left:1rem; padding-right:1rem; }
  .social-icons a i{ font-size:2.2rem; }
  .cta-row{ gap:.5rem; }
  .calendly-btn, .cv-link{ width:100%; justify-content:center; }
  /* Improve line spacing for wrapped author name on home */
  .home-title{ line-height: 1.2; }
}

/* Slightly larger breakpoint to ensure comfortable spacing on bigger phones */
@media (max-width:640px){ .home-title{ line-height: 1.2; } }

/* Global heading line-height for readability */
h1, h2, h3{ line-height: 1.2; }
@media (max-width:640px){ h1, h2, h3{ line-height: 1.25; } }

/* Hauteur d’écran mobile moderne */
@supports (min-height: 100dvh){
  body{ min-height:100dvh; }
}

/* Cartes Work */
.work-card{
  display:block;
  background:#1b1b1b;
  border:1px solid #2b2b2b;
  border-radius:1rem;
  text-decoration:none;
  color:#fafafa;
  margin-bottom:1rem;
  transition:transform .12s ease, border-color .2s ease, box-shadow .2s ease;
}
.work-card:hover{
  transform:translateY(-2px);
  border-color:#2196f3;
  box-shadow:0 8px 20px rgba(0,0,0,.35);
}

/* Rangées de tags */
.tag-row{ display:flex; flex-wrap:wrap; gap:.5rem; }
.tag{ padding:.25rem .6rem; opacity:.95; background: transparent; }
.tag-role{ border-color:#64b5f6; } /* bleu clair */
.tag-tech{ border-color:#81c784; } /* vert doux */

/* Chips de filtre */
.chip{ margin:.25rem .25rem 0 0; }
.chip-active{ color:#fff !important; }

/* Petits écrans: colonne pleine largeur */
@media (max-width: 992px){
  .w3-col.m12{ width:100% !important; }
}
